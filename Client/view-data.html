<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>View Data</title>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <!-- <link rel="stylesheet" href="/client/css/view-data.css"> -->
     <script src="/client/js/config.js" ></script>
    <script src="/client/js/view-data.js" ></script>

    <style>
        table, th, td {
          border: 1px solid black;
        }
      </style>  
</head>


    <body data-ng-app="tableApp" data-ng-controller="tableCtrl" data-ng-init="hideForm=true">

        <section>
            <div class="link-container" style="color: red;">
                <a href="/home">Home</a>
                <a href="/write-data">Enter Data</a>
                <a href="/view-data">View Data</a>
                <a href="/browse-data">Browse Data</a>
            </div>
        </section>

        <section data-ng-hide="hideTable">
          <div style="margin-left: 70px;">
            <label for="groupBy">Restaurant Type:</label>
             <select id="groupBy" 
              data-ng-model="selectedType" 
              data-ng-options="type.display for type in types" 
              data-ng-change="redrawTable()">
            </select>
          </div>

          <div style="margin: 30px">
            <table>
              <tr>
                <th>Restaurant Name</th>
                <th>Food Type</th>
                <th>Location</th>
                <th>Critic Rating</th>
                <th>Patron Rating</th>
              </tr>
    
              <tr data-ng-repeat="obj in restArray">
                <td>{{obj.name}}</td>
                <td>{{obj.type}}</td>
                <td>{{obj.location}}</td>
                <td>{{obj.criticRating}}</td>
                <td>{{obj.patronRating}}</td>
                <td>
                  <button data-ng-click="editRest($index)">Edit</button>
                </td>
                <td>
                  <button data-ng-click="deleteRest(obj._id)">DELETE</button>
                </td>
              </tr>
    
            </table>
          </div>
        </section>
    
        <section data-ng-hide="hideForm">
          <div style="font-size: 30px;">
            <label data-ng-model="restId" hidden></label>
          
            <div>
              <label for="name">Restaurant Name:</label>
              <input type="text" id="name" data-ng-model="name">
            </div>
    
            <div>
              <label for="type">Food Type:</label>
              <input type="text" id="type" data-ng-model="type">
            </div>
    
            <div>
              <label for="location">Location:</label>
              <input type="text" id="location" data-ng-model="location">
            </div>
    
            <div>
              <label for="criticRating">Critic Rating:</label>
              <input type="text" id="criticRating" data-ng-model="criticRating">
            </div>
    
            <div>
                <label for="patronRating">Patron Rating:</label>
                <input type="text" id="patronRating" data-ng-model="patronRating">
            </div>

            <div style ="float: left; margin-top: 30px;">
              <div style="float:left; clear:right; margin-left: 30px">
                <button id="update" data-ng-click="updateRest()">Update</button>
              </div>
            </div>
    
            <div style ="float: left; margin-top: 30px;">
              <div style="float:left; clear:right; margin-left: 30px">
                <button id="cancelBtn" data-ng-click="cancelUpdate()">Cancel</button>
              </div>
            </div>
    
            <div style="float: left; clear:left; margin-top: 20px; font-size: 24px; color: green;">{{addResults}}</div>
    
            </div>
    
        </section>


</body>

</html>
